(this["webpackJsonpdraw-lines"]=this["webpackJsonpdraw-lines"]||[]).push([[0],{10:function(t,e,n){t.exports={canvas:"Canvas_canvas__GwZr6",drawPanel:"Canvas_drawPanel__25mBL"}},18:function(t,e,n){},19:function(t,e,n){},23:function(t,e,n){"use strict";n.r(e);var s=n(0),a=n.n(s),i=n(6),c=n.n(i),o=(n(18),n(19),n(10)),r=n.n(o),u=n(13),h=n(3),l=n(4),v=n(1),d=new(function(){function t(){Object(h.a)(this,t),this.canvas=null,Object(v.d)(this)}return Object(l.a)(t,[{key:"setCanvas",value:function(t){this.canvas=t}},{key:"clearCanvas",value:function(){this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height)}}]),t}()),f=new(function(){function t(){Object(h.a)(this,t),this.tool=null,Object(v.d)(this)}return Object(l.a)(t,[{key:"setTool",value:function(t){this.tool=t}}]),t}()),b=n(11),m=n.n(b),j=n(12),w=n(8),g=n(7),O=function(){function t(e){Object(h.a)(this,t),this.canvas=e,this.ctx=e.getContext("2d"),this.destroyListener()}return Object(l.a)(t,[{key:"destroyListener",value:function(){this.canvas.onmousedown=null,this.canvas.onmousemove=null,this.canvas.onmouseup=null}}]),t}(),x=function(t){Object(w.a)(n,t);var e=Object(g.a)(n);function n(t){var s;return Object(h.a)(this,n),(s=e.call(this,t)).listen(),s}return Object(l.a)(n,[{key:"listen",value:function(){this.canvas.onmousedown=this.mouseDownHandler.bind(this),this.canvas.onmousemove=this.mouseMoveHandler.bind(this),this.canvas.onmouseup=this.mouseUpHandler.bind(this)}},{key:"mouseDownHandler",value:function(t){this.mouseDown=!0,this.currentX=t.pageX-t.target.offsetLeft,this.currentY=t.pageY-t.target.offsetTop,this.ctx.beginPath(),this.ctx.moveTo(this.currentX,this.currentY),this.saved=this.canvas.toDataURL()}},{key:"mouseMoveHandler",value:function(t){this.mouseDown&&this.drawLine(t.pageX-t.target.offsetLeft,t.pageY-t.target.offsetTop)}},{key:"mouseUpHandler",value:function(t){this.mouseDown=!1}},{key:"drawLine",value:function(t,e){var n=new Image;n.src=this.saved,n.onload=Object(j.a)(m.a.mark((function s(){return m.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.drawImage(n,0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.ctx.moveTo(this.currentX,this.currentY),this.ctx.lineTo(t,e),this.ctx.stroke();case 6:case"end":return s.stop()}}),s,this)}))).bind(this)}}]),n}(O),p=n(2),k=Object(u.a)((function(){var t=Object(s.useRef)();return Object(s.useEffect)((function(){d.setCanvas(t.current),f.setTool(new x(t.current))}),[]),Object(p.jsx)("div",{className:r.a.canvas,children:Object(p.jsx)("canvas",{ref:t,className:r.a.drawPanel,width:1e3,height:800})})})),T=n(5),_=n.n(T),y=function(t){Object(w.a)(n,t);var e=Object(g.a)(n);function n(t){var s;return Object(h.a)(this,n),(s=e.call(this,t)).listen(),s}return Object(l.a)(n,[{key:"listen",value:function(){this.canvas.onmousedown=this.mouseDownHandler.bind(this),this.canvas.onmousemove=this.mouseMoveHandler.bind(this),this.canvas.onmouseup=this.mouseUpHandler.bind(this)}},{key:"mouseDownHandler",value:function(t){this.mouseDown=!0,this.ctx.beginPath(),this.startX=t.pageX-t.target.offsetLeft,this.startY=t.pageY-t.target.offsetTop,this.saved=this.canvas.toDataURL()}},{key:"mouseMoveHandler",value:function(t){if(this.mouseDown){var e=t.pageX-t.target.offsetLeft,n=t.pageY-t.target.offsetTop,s=e-this.startX,a=n-this.startY;this.drawLine(this.startX,this.startY,s,a)}}},{key:"mouseUpHandler",value:function(t){this.mouseDown=!1}},{key:"drawLine",value:function(t,e,n,s){var a=this,i=new Image;i.src=this.saved,i.onload=function(){a.ctx.clearRect(0,0,a.canvas.width,a.canvas.height),a.ctx.drawImage(i,0,0,a.canvas.width,a.canvas.height),a.ctx.beginPath(),a.ctx.rect(t,e,n,s),a.ctx.stroke()}}}]),n}(O),C=function(){return Object(p.jsxs)("div",{className:_.a.toolbar,children:[Object(p.jsx)("button",{className:_.a.btn,onClick:function(){return f.setTool(new x(d.canvas))},children:Object(p.jsx)("div",{className:_.a.lineBtn})}),Object(p.jsx)("button",{className:_.a.btn,onClick:function(){return f.setTool(new y(d.canvas))},children:Object(p.jsx)("div",{className:_.a.squareBtn})}),Object(p.jsx)("button",{className:_.a.btn,onClick:function(){return d.clearCanvas()},children:Object(p.jsx)("div",{children:"Clear"})})]})};var L=function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(C,{}),Object(p.jsx)(k,{})]})},D=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(e){var n=e.getCLS,s=e.getFID,a=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),s(t),a(t),i(t),c(t)}))};c.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(L,{})}),document.getElementById("root")),D()},5:function(t,e,n){t.exports={toolbar:"Toolbar_toolbar__3QpeO",btn:"Toolbar_btn__2rLOc",lineBtn:"Toolbar_lineBtn__HpM3u",squareBtn:"Toolbar_squareBtn__3UqTC"}}},[[23,1,2]]]);
//# sourceMappingURL=main.3a0d32c9.chunk.js.map